## React로 할 수 있는것
 
##### 1. JSX
리액트를 구성하는 파일 포맷/ 기본 스크립트 형식
ECMA6기반의 자바스크립트와 XML이 혼합된 형태
초기엔 jsx확장자를 권장했으나 지금은 js확장자를 권장


##### 2. Virtual DOM
JSX를 DOM으로 출력하는 중간단계 (DOM에 바로 표시되지않고 중간단계를 거쳐서 DOM에 조작함)
리액트가 메모리상에만 보관하고 있는 가상의 DOM
draw call 최적화 (화면에 그리고 지우는 것을 반복하는것) : 이것이 성능 차이와 연관이 있음
화면에 다시 그리는것을 최적화 시켜 웹페이지 속도 높임



##### 3. 뷰 컴포넌트를 위한 라이브러리
프레임워크가 아닌 라이브러리임을 강조 (작은 단위 컴포넌트 만들기위한 라이브러리)
예) 페북은 채팅/ 글쓰기 등 드로우콜이 많은 곳에 부분적으로 사용



##### 4. SPA로 확장 가능

* 사이트 전체가 자바스크립트로 구동되는 웹 애플리케이션 형태
* react-router-dom등 서드파티 오픈소스 조합/활용
* 인스타그램 경우 라우터 포함하여 SPA형태로 구성되어 있음

<br />
<br />

## ReactJS 사용하게되면?

##### 1. 검색엔진 최적화에 좋음 
홍보말고도 검색 통해 잘 노출되도록 하기 위해 사용하고, 
개발 이후 운영단계에서 필수적인 작업이므로 중요하다


##### HOW TO: <br />
* 컨텐츠별로 할당된 고유 URI를 만들어야함: 딜링크? 퍼머링크? (검색해서 나온 페이지로 이동할 수 있도록 링크를 하나 더 따로 가지고 있어야 함)
* head태그 내의 meta data 
* body태그 내의 실제 컨텐츠
예) 사람들 게시물 글 혹은 페이지에 있는 소개 글 등 컨텐츠들에 의해 검색엔진에 반영되어 노출



##### 2. SPA라서 페이지 속도가 빠름
 
SPA란 서버와 통신없이 페이지 전환하는 것 (ajax로) 그렇기때문에 페이지 속도가 빠르다
(필요한 부분만 다시 불러오고 랜더링하는것을 빠르게 해줌)

<em>사용자 인게이지먼트 높이는 사용자 경험을 중요하게 여기는 사이트에 SPA가 더 맞음 (예:인스타/페북)
스택오버플로우같은 사용자 게시글로 이루어진 사이트는 아카이브 백앤드 개발쪽으로 중요한 사이트이기때문에, SPA가 사실 필요하지 않음</em>


##### SPA한계
자바스크립트없이는 비어있는 DOM일뿐임.
라우팅도 프론트엔드에서 처리하므로 모든 URI가 비어있는 DOM임



##### _서버 사이드에서 랜더링되게 하여 검색봇(크롤러)이 크롤링해서 읽을 수 있는 DOM을 만들어야 함_ 

* 프론트단에서만 랜더링되면 브라우저에서 보여지는 화면 내용이 많을지더라도 내부 컨텐츠까지 검색엔진에 보여줄 수 없음 <br />
* 서버에서 컨트롤해야 검색엔진 최적화 완벽하게 할 수 있음<br />
(랜더링이 프론트에서만 되는게 아니고 서버사이드에서 랜더링이 되어야함)
기껏 크롤링해서 가져갈 수 있는 내용은 사이트 이름이나 메타데이터 정보정도뿐임/ 그래서 렌더링이 미리 서버에서 되어야함

##### 서버사이드 랜더링
: 서버에서 미리 DOM을 랜더링함 <br/>

* 방법1: 메타태그만 랜더링
* 방법2: 컨텐츠 전체를 랜더링


##### 메타태그랜더링
* 검색엔진이 긁어갈 수 있는 최소정보들을 메타태그에 넣어 랜더링
* head내 title/ description등 메타정보단 서버에서 랜더링
* Open Graph메타 등을 출력해 소셜 미디어 공유에 대응
예) 페북에 링크 붙여서 글 쓸때 미리보기가 안되거나 혹은 기본으로 저장된 내용만 보여질때, Open Graph메타로 링크별로 페이지들 메타태그 랜더링 하는 방법 <br />
-> 웹사이트 주요 페이지들을 검색 봇에 노출 가능 <br />
-> 정적인 페이지 (사용자가 직접 컨텐츠 올리지않는) 에서는 메타태그만 노출되어도 괜찮지만 활발한 페이지에선 단점이 드러남, 그러므로 컨텐츠 랜더링이 되어야 함


##### 컨텐츠랜더링
* 서버내에서 node.js엔진 연동해 JSX내용을 DOM으로 출력
* 운영중인 백엔드가 node.js가 아니라면 많은 서버 리소스 필요
* 이때문에 서버사이드 뷰 템플릿과 JSX를 동시에 관리하기도-> 운영중 모든 업데이트에 2배의 작업 부하


<br />
<br />

## next.js
_react, routing, server side rendering 이 포함된 프레임워크_

##### 설치 및 실습

yarn을 이용해 설치

~~~
yarn init -y
yarn add next react react-dom
~~~

hello-next-js디렉토리 생성 후, package.json파일 열어 파일에 아래 내용 추가

~~~
  "scripts": {
  	"dev": "next",
  	"build": "next build",
  	"start": "next start"
  }
~~~

hello-next-js디렉토리에 pages폴더를 만들어 index.js생성 후 아래와 같이 입력해보자

~~~
//링크끼리연결해주는 제일 기본적인 기본 컴퍼넌트
import Link from 'next/link';


export default () => (
	<div> Hello, next.js!
	
	   <div>
	   	 <Link href="/playground">
	   		<a>Go Playground</a>
		  </Link>
		</div>
		
		
		<div>
		<a href="/playground">Go Playground (without Link)</a>
		</div>
	 
	 </div>
	);

//localhost:3000에서 확인
~~~


pages폴더에 playground.js 추가 생성하여 아래와 같이 만들어보자

~~~
import Link from 'next/link';

export default () => (
	<div>
		<h1>playground</h1>
		<p>Welcome to playground</p>

		<div>
			<Link href="/"><a>Home</a></Link>
		</div>

		<div>
			<a href="/">Home(without Link)</a>
		</div>
		
	</div>
	);

//a태그로 이동하는것은 페이지를 이탈해서 다시 로드하므로 속도 저하가 있을 수 있다 
그러므로 link를 이용하자
//링크 컴포넌트로 이동시 network에서 doc에서 라우터 변함 없는것을 확인할 수 있음
//링크 컴포넌트 사용 시 속도 저하 없음
//localhost:3000/playground 서버구동으로 페이지 확인
~~~